{"last_node_id":11,"last_link_id":22,"nodes":[{"id":8,"type":"InpaintModelConditioning","pos":[-2097.39697265625,142.21453857421875],"size":[315,138],"flags":{},"order":5,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":10},{"name":"negative","type":"CONDITIONING","link":11},{"name":"vae","type":"VAE","link":15},{"name":"pixels","type":"IMAGE","link":18},{"name":"mask","type":"MASK","link":19}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[12],"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[13],"slot_index":1},{"name":"latent","type":"LATENT","links":[14],"slot_index":2}],"properties":{"Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":5,"type":"VAEDecode","pos":[-1381.0626220703125,-179.57998657226562],"size":[210,46],"flags":{},"order":7,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":3},{"name":"vae","type":"VAE","link":4}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[20],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":11,"type":"InpaintStitch","pos":[-1027.60205078125,256.0408020019531],"size":[315,78],"flags":{},"order":8,"mode":0,"inputs":[{"name":"stitch","type":"STITCH","link":22},{"name":"inpainted_image","type":"IMAGE","link":20}],"outputs":[{"name":"image","type":"IMAGE","links":[21],"slot_index":0}],"properties":{"Node name for S&R":"InpaintStitch"},"widgets_values":["bislerp"]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-3669.56884765625,-16.971166610717773],"size":[315,98],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[6],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[1,2],"slot_index":1},{"name":"VAE","type":"VAE","links":[4,15],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["juggernautXL_versionXInpaint.safetensors"]},{"id":10,"type":"InpaintCrop","pos":[-3108.908447265625,320.18450927734375],"size":[691.9348754882812,642.3300170898438],"flags":{},"order":4,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":16},{"name":"mask","type":"MASK","link":17},{"name":"optional_context_mask","type":"MASK","link":null,"shape":7}],"outputs":[{"name":"stitch","type":"STITCH","links":[22],"slot_index":0},{"name":"cropped_image","type":"IMAGE","links":[18],"slot_index":1},{"name":"cropped_mask","type":"MASK","links":[19],"slot_index":2}],"properties":{"Node name for S&R":"InpaintCrop"},"widgets_values":[25,1,true,16,false,16,"bicubic","forced size",1024,1024,1,512,512,768,768,32]},{"id":9,"type":"LoadImage","pos":[-4033.28076171875,4.001420497894287],"size":[883.258056640625,876.29296875],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[16],"slot_index":0},{"name":"MASK","type":"MASK","links":[17],"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-7885973.399999976.png [input]","image"]},{"id":2,"type":"CLIPTextEncode","pos":[-3050.79736328125,193.564697265625],"size":[400,200],"flags":{},"order":3,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":2}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[11],"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["ugly, watermark,"],"color":"#322","bgcolor":"#533"},{"id":6,"type":"SaveImage","pos":[-2310.85791015625,122.56507873535156],"size":[942.1943359375,791.0906372070312],"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":21}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":7,"type":"KSampler","pos":[-2469.9404296875,-249.80555725097656],"size":[315,262],"flags":{},"order":6,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":6},{"name":"positive","type":"CONDITIONING","link":12},{"name":"negative","type":"CONDITIONING","link":13},{"name":"latent_image","type":"LATENT","link":14}],"outputs":[{"name":"LATENT","type":"LATENT","links":[3],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[2024,"fixed",60,8,"dpmpp_2m","normal",0.75]},{"id":1,"type":"CLIPTextEncode","pos":[-3111.564208984375,-132.5089569091797],"size":[400,200],"flags":{},"order":2,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[10],"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["wearing round reading glasses "],"color":"#232","bgcolor":"#353"}],"links":[[1,4,1,1,0,"CLIP"],[2,4,1,2,0,"CLIP"],[3,7,0,5,0,"LATENT"],[4,4,2,5,1,"VAE"],[6,4,0,7,0,"MODEL"],[10,1,0,8,0,"CONDITIONING"],[11,2,0,8,1,"CONDITIONING"],[12,8,0,7,1,"CONDITIONING"],[13,8,1,7,2,"CONDITIONING"],[14,8,2,7,3,"LATENT"],[15,4,2,8,2,"VAE"],[16,9,0,10,0,"IMAGE"],[17,9,1,10,1,"MASK"],[18,10,1,8,3,"IMAGE"],[19,10,2,8,4,"MASK"],[20,5,0,11,1,"IMAGE"],[21,11,0,6,0,"IMAGE"],[22,10,0,11,0,"STITCH"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.036802755164464,"offset":[3929.0995392054697,158.5834370886646]},"node_versions":{"comfy-core":"0.3.12"},"groupNodes":{"MyPack::Ollama Prompt":{"author":"skarlekar","category":"LLM","datetime":1737335560765,"external":[[3,0,"STRING"]],"links":[[0,0,2,0,9,"STRING"],[1,0,2,1,10,"STRING"],[2,0,3,1,3,"STRING"]],"nodes":[{"bgcolor":"#335","color":"#223","flags":{},"id":-1,"index":0,"inputs":[],"mode":0,"order":0,"outputs":[{"links":[],"localized_name":"positive","name":"positive","slot_index":0,"type":"STRING"}],"pos":[-5088.87353515625,-204.0503692626953],"properties":{"Node name for S&R":"easy positive"},"size":[400,200],"title":"Prompt","type":"easy positive","widgets_values":[" Generate a very descriptive stable diffusion prompt from the following (only output the prompt and no quotes):"]},{"bgcolor":"#353","color":"#232","flags":{},"id":-1,"index":1,"inputs":[],"mode":0,"order":1,"outputs":[{"links":[],"localized_name":"positive","name":"positive","slot_index":0,"type":"STRING"}],"pos":[-5090.806640625,44.148414611816406],"properties":{"Node name for S&R":"easy positive"},"size":[400,200],"title":"Prompt","type":"easy positive","widgets_values":["a cartooned cat and a dog walking"]},{"flags":{},"id":-1,"index":2,"inputs":[{"link":null,"name":"text_a","shape":7,"type":"STRING","widget":{"name":"text_a"}},{"link":null,"name":"text_b","shape":7,"type":"STRING","widget":{"name":"text_b"}},{"link":null,"name":"text_c","shape":7,"type":"STRING","widget":{"name":"text_c"}},{"link":null,"name":"text_d","shape":7,"type":"STRING","widget":{"name":"text_d"}}],"mode":0,"order":2,"outputs":[{"links":[],"localized_name":"STRING","name":"STRING","slot_index":0,"type":"STRING"}],"pos":[-4573.8330078125,-186.04640197753906],"properties":{"Node name for S&R":"Text Concatenate"},"size":[315,178],"type":"Text Concatenate","widgets_values":[" ","true","","","",""]},{"bgcolor":"#335","color":"#223","flags":{},"id":-1,"index":3,"inputs":[{"link":null,"localized_name":"image","name":"image","shape":7,"type":"IMAGE"},{"link":null,"name":"prompt","type":"STRING","widget":{"name":"prompt"}}],"mode":0,"order":3,"outputs":[{"links":[],"localized_name":"text","name":"text","slot_index":0,"type":"STRING"}],"pos":[-4609.64892578125,75.83079528808594],"properties":{"Node name for S&R":"OllamaAPI"},"size":[400,200],"title":"Ollama Instruction","type":"OllamaAPI","widgets_values":["Generate a very descriptive stable diffusion prompt from the following (only output the prompt and no quotes)","llama3.2-vision:latest",0]}],"packname":"MyComponents","version":"0.1"},"MyPack::Ollama Vision Prompt":{"author":"skarlekar","category":"LLM","config":{"1":{"input":{"positive":{"visible":false}}},"2":{"output":{"0":{"visible":true}}}},"datetime":1737338020934,"external":[[4,0,"STRING"]],"links":[[1,0,3,0,8,"STRING"],[2,0,3,1,11,"STRING"],[0,0,4,0,6,"IMAGE"],[3,0,4,1,10,"STRING"]],"nodes":[{"flags":{},"id":-1,"index":0,"inputs":[],"mode":0,"order":0,"outputs":[{"links":[],"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE"},{"links":null,"localized_name":"MASK","name":"MASK","type":"MASK"}],"pos":[-5208.47265625,-249.70350646972656],"properties":{"Node name for S&R":"LoadImage"},"size":[315,314],"type":"LoadImage","widgets_values":["DSC00711.JPG","image"]},{"bgcolor":"#335","color":"#223","flags":{},"id":-1,"index":1,"inputs":[],"mode":0,"order":1,"outputs":[{"links":[],"localized_name":"positive","name":"positive","slot_index":0,"type":"STRING"}],"pos":[-5206.74072265625,117.6436767578125],"properties":{"Node name for S&R":"easy positive"},"size":[400,200],"title":"Prompt for Vision LLM","type":"easy positive","widgets_values":["Role: You analyze a given image and produce one descriptive prompt tailored for Stable Diffusion.\n\nGoal:\n\nGenerate a highly detailed and very vivid description of the scene, sufficient for Stable Diffusion to faithfully recreate it.\nProvide essential information about subjects, background, colors, style, race, color, ethnicity and mood. \nOmit any references to “the image” or “this photo” (i.e., do not say “The image depicts…” or \"Here is the prompt\"). Instead, begin describing the scene directly.\n\nConstraints:\n\n1. Output only the Stable Diffusion prompt—no additional commentary or explanation.\n2. Do not include phrases like “the image depicts” or any mention of an “image” or “photo.”\n3. Avoid disclaimers, system prompts, or any text other than the single prompt itself.\n4. Use a direct, descriptive style.\n5. Use enough detail to enable a near-exact recreation of the original scene.\n\nFinal Task:\n\nProvide a single, contiguous text prompt describing the given scene. The prompt should be self-contained and ready for direct use in Stable Diffusion.\n\nAdditional instructions: "]},{"bgcolor":"#353","color":"#232","flags":{},"id":-1,"index":2,"inputs":[],"mode":0,"order":2,"outputs":[{"links":[],"localized_name":"positive","name":"positive","slot_index":0,"type":"STRING"}],"pos":[-5212.978515625,388.15484619140625],"properties":{"Node name for S&R":"Additional Instructions"},"size":[400,200],"title":"Additional Instructions","type":"easy positive","widgets_values":[""]},{"flags":{},"id":-1,"index":3,"inputs":[{"link":null,"name":"text_a","shape":7,"type":"STRING","widget":{"name":"text_a"}},{"link":null,"name":"text_b","shape":7,"type":"STRING","widget":{"name":"text_b"}},{"link":null,"name":"text_c","shape":7,"type":"STRING","widget":{"name":"text_c"}},{"link":null,"name":"text_d","shape":7,"type":"STRING","widget":{"name":"text_d"}}],"mode":0,"order":3,"outputs":[{"links":[],"localized_name":"STRING","name":"STRING","slot_index":0,"type":"STRING"}],"pos":[-4647.9677734375,217.05191040039062],"properties":{"Node name for S&R":"Text Concatenate"},"size":[315,178],"type":"Text Concatenate","widgets_values":["  ","true","","","",""]},{"bgcolor":"#335","color":"#223","flags":{},"id":-1,"index":4,"inputs":[{"link":null,"localized_name":"image","name":"image","shape":7,"type":"IMAGE"},{"link":null,"name":"prompt","type":"STRING","widget":{"name":"prompt"}}],"mode":0,"order":4,"outputs":[{"links":[],"localized_name":"text","name":"text","slot_index":0,"type":"STRING"}],"pos":[-4757.27880859375,-206.3188018798828],"properties":{"Node name for S&R":"OllamaAPI"},"size":[400,200],"title":"Ollama Instruction","type":"OllamaAPI","widgets_values":["Generate a very descriptive stable diffusion prompt from the following (only output the prompt and no quotes)","llama3.2-vision:latest",0]}],"packname":"MyComponents","version":"0.1"}}},"version":0.4}